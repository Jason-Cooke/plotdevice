<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html><head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>

  <title>PlotDevice Tutorials: LetterKnitter</title>
  <link charset="utf-8" href="../etc/manual.css" rel="stylesheet" type="text/css"/>

</head><body>
  <div class="link" id="nav">
    <h1><a href="../manual.html">Plot Device <span>Tutorials</span></a></h1>

    <h3>LetterKnitter</h3>
  </div>

  <div class="article">
    <p><i>LetterKnitter</i> builds on some interesting PlotDevice functionalities that allow you to
    control each point in a Bézier spline or font glyph individually. The LetterKnitter stitches
    and knits letters and words together, with an occasional error in the stitching process.</p>
    <p>LetterKnitter uses any font and text you supply it; it is not a new font, but a <i>point
    filter</i> that works on any typeface (Dolly and Arial in the examples below), and looks
    different each time you use it as well.</p>
    <p> </p>
    <p><span class="media"><img height="200" src="../etc/tut/letterknitter1a.jpg" width="550"/></span></p>
    <p><span class="media"><img height="200" src="../etc/tut/letterknitter2.jpg" width="550"/></span></p>
    <p><span class="media"><img height="161" src="../etc/tut/letterknitter-interface.jpg" width="323"/></span></p>
    <p> </p>
    <p><b>Source code:</b></p>
<pre>
<span class="nf">var</span>(<span class="s">"typeface"</span>, <span class="kc">TEXT</span>, <span class="s">"Times-Bold"</span>)
<span class="nf">var</span>(<span class="s">"text"</span>, <span class="kc">TEXT</span>, <span class="s">" LetterKnitter"</span>)
<span class="nf">var</span>(<span class="s">"size"</span>, <span class="kc">NUMBER</span>, <span class="mi">100</span>, <span class="mi">10</span>, <span class="mi">200</span>)
<span class="nf">var</span>(<span class="s">"stitches"</span>, <span class="kc">NUMBER</span>, <span class="mi">700</span>, <span class="mi">10</span>, <span class="mi">1000</span>)
 
<span class="k">def</span> <span class="nf">stitch</span>(txt, x, y, n<span class="o">=</span><span class="mi">1000</span>):
    
    <span class="sd">""" Stitches a given string of text (with n stitches).</span>
<span class="sd">    </span>
<span class="sd">    Creates a text path and finds n points on the path.</span>
<span class="sd">    Connects each consecutive point with a little curve.</span>
<span class="sd">    Sometimes connects to a random point on the path.</span>
<span class="sd">    </span>
<span class="sd">    """</span>
    
    p <span class="o">=</span> <span class="nf">textpath</span>(txt, x, y)
    pt0 <span class="o">=</span> p<span class="o">.</span>point(<span class="mi">0</span>)
    <span class="nf">autoclosepath</span>(<span class="bp">False</span>)
    <span class="nf">beginpath</span>(pt0<span class="o">.</span>x, pt0<span class="o">.</span>y)
    
    <span class="k">for</span> i <span class="ow">in</span> <span class="nb">range</span>(<span class="nb">int</span>(n)):    
        t <span class="o">=</span> <span class="nb">float</span>(i) <span class="o">/</span> n
        pt1 <span class="o">=</span> p<span class="o">.</span>point(t)
        d <span class="o">=</span> <span class="nf">fontsize</span>() <span class="o">*</span> <span class="mf">0.05</span>
        <span class="nf">curveto</span>(
            pt0<span class="o">.</span>x, 
            pt1<span class="o">.</span>y, 
            pt1<span class="o">.</span>x <span class="o">+</span> d, 
            pt0<span class="o">.</span>y <span class="o">+</span> d, 
            pt1<span class="o">.</span>x, 
            pt1<span class="o">.</span>y
        )
        
        <span class="k">if</span> <span class="nf">random</span>() <span class="o">&gt;</span> <span class="mf">0.995</span>:
            pti <span class="o">=</span> p<span class="o">.</span>point(<span class="nf">random</span>())
            <span class="nf">curveto</span>(
                pt0<span class="o">.</span>x, 
                pt1<span class="o">.</span>y <span class="o">+</span> d<span class="o">*</span><span class="mi">10</span>, 
                pti<span class="o">.</span>x <span class="o">+</span> d, 
                pti<span class="o">.</span>y <span class="o">+</span> d, 
                pti<span class="o">.</span>x, 
                pti<span class="o">.</span>y
            )
            
        pt0<span class="o">.</span>x <span class="o">=</span> pt1<span class="o">.</span>x
        pt0<span class="o">.</span>y <span class="o">=</span> pt1<span class="o">.</span>y
 
    <span class="nf">endpath</span>()
 
<span class="nf">nofill</span>()
<span class="nf">stroke</span>(<span class="mf">0.2</span>)
<span class="nf">strokewidth</span>(<span class="mi">1</span>)
 
<span class="nf">font</span>(typeface, <span class="nf">size</span>)
stitch(<span class="nf">text</span>, <span class="mi">50</span>, <span class="mi">150</span>, n<span class="o">=</span>stitches)
</pre>

    <p> </p>
    <p>The path math functions used in LetterKnitter are explained in the <a href="Paths.html#Path_Mathematics">tutorial</a>.<br/>
    Other interesting path filters can be found <a href="Path_Filters.html">here</a>.<br/></p>
    <p>Created by Tom De Smedt.</p>
  </div>

</body></html>