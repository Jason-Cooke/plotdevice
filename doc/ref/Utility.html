<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html><head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>

  <title>PlotDevice Reference: Utility</title>
  <link charset="utf-8" href="../etc/manual.css" rel="stylesheet" type="text/css"/>

</head><body>
  <div class="link" id="nav">
    <h1><a href="../manual.html">Plot Device <span>Reference</span></a></h1>

    <ul class="siblings">
      <li><a href="Setup.html">Setup</a></li>
      <li><a href="Primitives.html">Primitives</a></li>
      <li><a href="Drawing.html">Drawing</a></li>
      <li><a href="Line+Color.html">Line &amp; Color</a></li>
      <li><a href="Typography.html">Typography</a></li>
      <li>
        <h3 style="margin:0;">Utility</h3></li>
      </ul>
  </div>

  <div class="article">
    <div class="commands">
      <a name="choice()"></a>

      <div class="section">
        <h3>choice()</h3>

        <div class="definition">
          <h2>Syntax</h2>

          <div class="row">
<pre>
<span class="nf">choice</span>(<span class="nb">list</span>)
</pre>
          </div>

          <h2>Description</h2>

          <div class="row">
            Returns one random item from the list supplied as parameter. Using the choice() command
            is an alternative to the obscure <code>list[random(len(list)]</code> command.
          </div>

          <h2>Returns</h2>

          <div class="row">
            a random item from the given list
          </div>

          <h2>Tutorial</h2>

          <div class="row">
            <a href="../tut/Lists.html">Lists</a>
          </div>

          <h2>Example</h2>

          <div class="row">
            <table border="0">
              <tbody>
                <tr>
                  <td>
<pre>words <span class="o">=</span> [<span class="s">"PlotDevice"</span>, <span class="s">"Ekky-ekky!"</span>, <span class="s">"z'Boing!"</span>]
c <span class="o">=</span> <span class="nf">choice</span>(words) 
 
<span class="c"># Variable c contains a random item from the words list</span>
<span class="c"># So variable c might now be "PlotDevice"...</span>
<span class="c"># or "Ekky-ekky!"...</span>
<span class="c"># or "z'Boing!"</span>
</pre>
                  </td></tr></tbody></table>
          </div>
        </div>
      </div><a name="files()"></a>

      <div class="section">
        <h3>files()</h3>

        <div class="definition">
          <h2>Syntax</h2>

          <div class="row">
<pre>
<span class="nf">files</span>(pattern, case<span class="o">=</span><span class="bp">True</span>)
</pre>
          </div>

          <h2>Description</h2>

          <div class="row">
            Retrieves the names of all files at a given path matching a wildcard pattern. By
            default a case-sensitive search is performed but this can be relaxed by passing
            <code class="kw">False</code> as the <code>case</code> parameter.
          </div>

          <h2>Returns</h2>

          <div class="row">
            a list with the names of the files matching the given pattern
          </div>

          <h2>Example</h2>

          <div class="row">
            <table border="0">
              <tbody>
                <tr>
                  <td>
<pre>f <span class="o">=</span> <span class="nf">files</span>(<span class="s">"~/Pictures/*.jpg"</span>)
<span class="nf">image</span>(<span class="nf">choice</span>(f), <span class="mi">10</span>, <span class="mi">10</span>)
</pre>
                  </td></tr></tbody></table>
          </div>
        </div>
      </div><a name="fonts()"></a>

      <div class="section">
        <h3>fonts()</h3>

        <div class="definition">
          <h2>Syntax</h2>

          <div class="row">
<pre>
<span class="nf">fonts</span>(like<span class="o">=</span><span class="bp">None</span>, western<span class="o">=</span><span class="bp">True</span>)
</pre>
          </div>

          <h2>Description</h2>

          <div class="row">
            The fonts() command searches the fonts installed on the system and can filter the list
            in a few ways. When called with no arguments, the list contains all fonts on the system
            with a latin character set. To retrieve the set of non-latin fonts, pass False as the
            western parameter. To filter the list through a (case-insensitive) font name match,
            pass a substring as the like parameter.
          </div>

          <h2>Returns</h2>

          <div class="row">
            a list of “Postscript Names” which can be used as arguments for the <a href="Typography.html#font()">font()</a> command
          </div>

          <h2>Example</h2>

          <div class="row">
<pre>romans <span class="o">=</span> <span class="nf">fonts</span>() <span class="c"># Get a list of all the text-friendly fonts on the system</span>
jenson <span class="o">=</span> <span class="nf">fonts</span>(like<span class="o">=</span><span class="s">"jenson"</span>) <span class="c"># all installed weights of Adobe Jenson.</span>

eastern <span class="o">=</span> <span class="nf">fonts</span>(western<span class="o">=</span><span class="bp">False</span>) <span class="c"># all asian-character fonts, math fonts, etc.</span>
kozuka <span class="o">=</span> <span class="nf">fonts</span>(western<span class="o">=</span><span class="bp">False</span>, like<span class="o">=</span><span class="s">"koz"</span>) <span class="c"># the weights in the Kozuka families</span>
</pre>
          </div>
        </div>
      </div><a name="grid()"></a>

      <div class="section">
        <h3>grid()</h3>

        <div class="definition">
          <h2>Syntax</h2>

          <div class="row">
<pre>
<span class="nf">grid</span>(cols, rows, colsize<span class="o">=</span><span class="mi">1</span>, rowsize<span class="o">=</span><span class="mi">1</span>)
</pre>
          </div>

          <h2>Description</h2>

          <div class="row">
            The grid() command returns an iteratable object, something that can be traversed in a
            for-loop (like the range() command for example). The grid() is a more complex, but very
            powerful command. The first two parameters define the number of columns and rows in the
            grid. The next two parameters are optional, and set the width and height of one cell in
            the grid. Each iteration in a for-loop, the offset for the current column and row is
            returned.
          </div>

          <h2>Returns</h2>

          <div class="row">
            tuples of x/y coordinates that can be used in a for-loop
          </div>

          <h2>Example</h2>

          <div class="row">
            <table border="0">
              <tbody>
                <tr>
                  <td><span class="image_border"><img height="125" src="../etc/ref/grid.jpg" width="125"/></span>
                  </td><td>
<pre>
<span class="nf">fill</span>(<span class="mf">0.2</span>)
<span class="k">for</span> x, y <span class="ow">in</span> <span class="nf">grid</span>(<span class="mi">7</span>, <span class="mi">5</span>, <span class="mi">12</span>, <span class="mi">12</span>):
    <span class="nf">rect</span>(<span class="mi">10</span><span class="o">+</span>x, <span class="mi">10</span><span class="o">+</span>y, <span class="mi">10</span>, <span class="mi">10</span>)
</pre>
                  </td></tr></tbody></table>
          </div>
        </div>
      </div><a name="ordered()"></a>

      <div class="section">
        <h3>ordered()</h3>

        <div class="definition">
          <h2>Syntax</h2>

          <div class="row">
<pre>
<span class="nf">ordered</span>(<span class="nb">list</span>, <span class="o">*</span>names, reverse<span class="o">=</span><span class="bp">False</span>)
</pre>
          </div>

          <h2>Description</h2>

          <div class="row">
            <p>Returns a sorted copy of a list of objects (similar to Python’s built-in <a href="https://wiki.python.org/moin/HowTo/Sorting"><code>sorted</code></a> function). Lists
            of dictionaries or objects can be sorted based on a common key or attribute if one or
            more <code>name</code> arguments are provided.</p>
            <p>Lists are returned in ascending order unless the <code>reverse</code> parameter is
            <code class="kw">True</code>.</p>
          </div>

          <h2>Returns</h2>

          <div class="row">
            a sorted copy of the original list
          </div>

          <h2>Tutorial</h2>

          <div class="row">
            <a href="../tut/Lists.html">Lists</a>
          </div>

          <h2>Example</h2>

          <div class="row">
            <table border="0">
              <tbody>
                <tr>
                  <td>
<pre>itemlst <span class="o">=</span> [<span class="nb">dict</span>(foo<span class="o">=</span><span class="mi">1</span>, bar<span class="o">=</span><span class="mi">10</span>), <span class="nb">dict</span>(foo<span class="o">=</span><span class="mi">12</span>, bar<span class="o">=</span><span class="mi">0</span>), <span class="nb">dict</span>(foo<span class="o">=</span><span class="mi">13</span>, bar<span class="o">=</span><span class="mi">1</span>)]
<span class="k">print</span> <span class="nf">ordered</span>(itemlst, <span class="s">'foo'</span>, reverse<span class="o">=</span><span class="bp">True</span>)
</pre>
                  </td></tr></tbody></table>
          </div>
        </div>
      </div><a name="random()"></a>

      <div class="section">
        <h3>random()</h3>

        <div class="definition">
          <h2>Syntax</h2>

          <div class="row">
<pre>
<span class="nf">random</span>(v1<span class="o">=</span><span class="bp">None</span>, v2<span class="o">=</span><span class="bp">None</span>)
</pre>
          </div>

          <h2>Description</h2>

          <div class="row">
            Returns a random number that can be assigned to a variable or a parameter. When no
            parameters are supplied, returns a floating-point (decimal) number between 0.0 and 1.0
            (including 0.0 and 1.0). When one parameter is supplied, returns a number between 0 and
            this parameter. When two parameters are supplied, returns a number between the first
            and the second parameter. The random() command is useful for all sorts of operations,
            from random colors to lines with a random width.

            <p>Note: new random values are returned each time the script runs. The variation can be
            locked by supplying a custom random seed:<br/>
            <span class="inline_code">from random import seed<br/>
            seed(0)</span><br/></p>
          </div>

          <h2>Returns</h2>

          <div class="row">
            a random number (either an integer or floating-point) within the given boundaries
          </div>

          <h2>Tutorial</h2>

          <div class="row">
            <a href="../tut/Repetition.html">Repetition</a>
          </div>

          <h2>Example</h2>

          <div class="row">
            <table border="0">
              <tbody>
                <tr>
                  <td>
<pre>r <span class="o">=</span> <span class="nf">random</span>() <span class="c"># returns a float between 0 and 1</span>
r <span class="o">=</span> <span class="nf">random</span>(<span class="mf">2.5</span>) <span class="c"># returns a float between 0 and 2.5 </span>
r <span class="o">=</span> <span class="nf">random</span>(<span class="o">-</span><span class="mf">1.0</span>, <span class="mf">1.0</span>) <span class="c"># returns a float between -1.0 and 1.0</span>
r <span class="o">=</span> <span class="nf">random</span>(<span class="mi">5</span>) <span class="c"># returns an int between 0 and 5</span>
r <span class="o">=</span> <span class="nf">random</span>(<span class="mi">1</span>, <span class="mi">10</span>) <span class="c"># returns an int between 1 and 10</span>
 
<span class="c"># sets the fill to anything from </span>
<span class="c"># black (0.0,0,0) to red (1.0,0,0)</span>
<span class="nf">fill</span>(<span class="nf">random</span>(), <span class="mi">0</span>, <span class="mi">0</span>)
</pre>
                  </td></tr></tbody></table>
          </div>
        </div>
      </div><a name="read()"></a>

      <div class="section">
        <h3>read()</h3>
      </div><a name="shuffled()"></a>

      <div class="section">
        <h3>shuffled()</h3>
      </div>
    </div>

    <div class="types">
      <div class="classic">
        <p class="rose_text">Classes</p>
      </div><a id="dictionaries" name="dictionaries"></a>

      <div class="section">
        <h3>dictionaries</h3>
      </div>
    </div>

    <div class="compat">
      <div class="classic">
        <p class="pink_text">NodeBox Compatibility</p>
        <p><em>Though their functionality has been subsumed by the commands listed above, the
        following NodeBox Utility commands may also be used in your scripts.</em></p>
      </div><a name="autotext()"></a>

      <div class="section">
        <h3>autotext()</h3>

        <div class="definition">
          <h2>Syntax</h2>

          <div class="row">
<pre>
<span class="nf">autotext</span>()
</pre>
          </div>

          <h2>Description</h2>

          <div class="row">
            Generates random text from an XML-document. Autotext is a very powerful feature once
            you learn how to use it. PlotDevice has a built-in implementation of the Kant Generator
            Pro. XML-files for the Kant Generator have a specified structure. Further information
            can be found at http://diveintopython.org/xml_processing/
          </div>

          <h2>Returns</h2>

          <div class="row">
            a string containing automatically generated text
          </div>

          <h2>Tutorial</h2>

          <div class="row">
            <a href="../tut/Strings.html">Strings</a>
          </div>

          <h2>Example</h2>

          <div class="row">
            <table border="0">
              <tbody>
                <tr>
                  <td><span class="image_border"><img height="125" src="../etc/ref/autotext.jpg" width="125"/></span>
                  </td><td>
<pre>
<span class="nf">fontsize</span>(<span class="mi">9</span>)
<span class="nf">lineheight</span>(<span class="mf">0.8</span>)
txt <span class="o">=</span> <span class="nf">autotext</span>(<span class="s">"kant.xml"</span>)
<span class="nf">text</span>(txt, <span class="mi">5</span>, <span class="mi">10</span>, width<span class="o">=</span><span class="mi">110</span>)
</pre>
                  </td></tr></tbody></table>
          </div>

          <div class="row">
             
          </div>

          <h2>Download</h2>

          <div class="row">
            <a href="../tut/media/kant.xml">kant.xml</a>
          </div>
        </div>
      </div><a name="open()"></a>

      <div class="section">
        <h3>open()</h3>

        <div class="definition">
          <h2>Syntax</h2>

          <div class="row">
<pre>
<span class="nb">open</span>(path)<span class="o">.</span>read()
</pre>
          </div>

          <h2>Description</h2>

          <div class="row">
            The open() command opens a file specified by the path parameter. The open() command can
            be used in two ways: open(path).read(), which returns the file’s text content as a
            string, or, alternatively, open(path).readlines(), which returns a list of text lines.
          </div>

          <h2>Returns</h2>

          <div class="row">
            the file’s text content, as a string
          </div>

          <h2>Tutorial</h2>

          <div class="row">
            <a href="../tut/Strings.html">Strings</a>
          </div>

          <h2>Example</h2>

          <div class="row">
            <table border="0">
              <tbody>
                <tr>
                  <td>
<pre>
<span class="c"># Prints the contents of sample.txt as a whole</span>
txt <span class="o">=</span> <span class="nb">open</span>(<span class="s">"sample.txt"</span>)<span class="o">.</span>read()
<span class="k">print</span> txt
 
<span class="c"># Prints the contents line per line</span>
txt <span class="o">=</span> <span class="nb">open</span>(<span class="s">"sample.txt"</span>)<span class="o">.</span>readlines()
<span class="k">for</span> <span class="nf">line</span> <span class="ow">in</span> txt:
    <span class="k">print</span> <span class="nf">line</span>
</pre>
                  </td></tr></tbody></table>
          </div>
        </div>
      </div>
    </div>
  </div>

</body></html>